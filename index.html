<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Schiermonnikoog Puzzeltocht</title>
<style>
body{margin:0;font-family:'Trebuchet MS',sans-serif;background:#050505;color:#f5f5f5;overflow:hidden;}
#game{max-width:700px;margin:0 auto;padding:2rem;}
.step{display:none;animation:fadeIn 1.5s ease;}
.step.active{display:block;}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
input{margin-top:1rem;padding:10px;width:100%;font-size:1rem;border-radius:8px;border:none;}
button{margin-top:1rem;padding:10px 20px;background:#660000;color:#fff;border:none;border-radius:8px;cursor:pointer;}
button:hover{background:#880000}
.calc{margin-top:1rem;font-family:monospace;background:#111;padding:1rem;border-radius:8px;font-size:1.1rem;}
#red-eye{position:fixed;width:26px;height:26px;border-radius:50%;
background:radial-gradient(circle, red 0%, rgba(255,0,0,0.4) 40%, transparent 70%);
box-shadow:0 0 20px 8px rgba(255,0,0,0.4);
opacity:0;pointer-events:none;transition:opacity 2s ease;z-index:9999;animation:pulse 4s infinite;}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}

/* Voertuigen animatie */
#vehicle{
  position: fixed;
  bottom: 40px;
  left: -200px;
  font-size: 3rem;
  opacity: 1;
}
@keyframes vehicleRide{
  0%{left:-200px;}
  100%{left:110%;}
}
</style>
</head>
<body>

<div id="red-eye"></div>

<div id="game">

<!-- STAP 1: sterren direct invullen -->
<div class="step active">
<p>"We maken een puzzeltocht over Schiermonnikoog. We starten op het uiterste puntje van de Veerdam, waar de reis op Schiermonnikoog voor iedereen begint. Ook die van Google Streetview. Tel de verkeersborden die je op dit standpunt (dus nog niet lopen) van de achterkant ziet. Hoeveel zijn het er? Neem deze buslijn tot aan zijn laatste halte. Stap hier uit en loop richting het dorp. Onderweg weg komt je een evenement tegen. Er staat een apparaat om kracht te meten. Hoeveel sterren zie je op de achtergrond?"</p>
<input id="a" type="number" placeholder="Aantal sterren">
<button onclick="next()">Verder</button>
</div>

<!-- STAP 2: ganzen -->
<div class="step">
<p>"Vervolg je route. Bij de eerste keuzemogelijkheid ga je naar links. Op dit paadje kom je tot aan de volgende keuzemogelijkheid houten ganzen tegen. Het lijkt alsof er 1 is omgevallen, die tellen we niet mee. Hoeveel kun je er zien?"</p>
<input id="b" type="number" placeholder="Aantal ganzen">
<button onclick="next()">Verder</button>
</div>

<!-- STAP 3: vlaggen -->
<div class="step">
<p>"Vervolgens ga je bij de keuzemogelijkheid naar rechts en bij de volgende naar links. We lopen deze straat tot en met de volgende kruising met boekverkoper. Hoeveel keer zie je (een afbeelding van) de vlag van Schiermonnikoog?"</p>
<input id="c" type="number" placeholder="Aantal vlaggen">
<button onclick="calc1()">Bereken eerste cijfer</button>
</div>

<div class="step">
<div class="calc" id="calc1"></div>
<button onclick="next()">Verder</button>
</div>

<!-- STAP 4: mensen terras -->
<div class="step">
<p>"We teleporteren naar het terras van Wantij. Hoeveel mensen zitten daar op het terras?"</p>
<input id="d" type="number" placeholder="Aantal mensen">
<button onclick="next()">Verder</button>
</div>

<!-- STAP 5: huisnummer klos -->
<div class="step">
<p>"Loop door richting het dorp. Ga bij de eerste mogelijkheid naar links. Ga niet voor de gele bus schuin rechts, maar rechtdoor en de eerste links. Op welk huisnummer is in deze straat iemand de klos?"</p>
<input id="e" type="number" placeholder="Huisnummer klos">
<button onclick="next()">Verder</button>
</div>

<!-- STAP 6: huisnummer instrument -->
<div class="step">
<p>"We lopen deze straat uit. Dan slaan we linksaf en volgen deze straat tot het einde. Onderweg is een huis vernoemd naar een navigatieinstrument? Welk huisnummer?"</p>
<input id="f" type="number" placeholder="Huisnummer instrument">
<button onclick="calc2()">Bereken tweede cijfer</button>
</div>

<div class="step">
<div class="calc" id="calc2"></div>
<button onclick="next()">Verder</button>
</div>

<!-- STAP 7: vissen -->
<div class="step">
<p>"We gaan een visje eten bij Jan Keijzer. Hoeveel getekende vissen zie je op en rond de vishandel?"</p>
<input id="g" type="number" placeholder="Aantal vissen">
<button onclick="next()">Verder</button>
</div>

<!-- STAP 8: decennia -->
<div class="step">
<p>"We lopen terug richting de oude school, maar buigen voortijdig af naar links. En lopen daar door tot we niet verder kunnen. We weten zelf niet goed waarom. Daar staat een auto. Al meer dan hoeveel jaar realiseert dit bedrijf bouwprojecten op maat? Geef het getal in decennia."</p>
<input id="h" type="number" placeholder="Aantal decennia">
<button onclick="next()">Verder</button>
</div>

<!-- STAP 9: fietsen -->
<div class="step">
<p>"Gauw terug en linksaf de Badweg op. We komen langs een fietsverhuur. Hoeveel fietsen staan hier buiten voor de zaak? Het gaat om eigenlijk alle soorten, maar niet het karretje."</p>
<input id="i" type="number" placeholder="Aantal fietsen">
<button onclick="calc3()">Bereken derde cijfer</button>
</div>

<div class="step">
<div class="calc" id="calc3"></div>
<button onclick="next()">Verder</button>
</div>

<!-- STAP 10: busnummer -->
<div class="step">
<p>"Nu gaan we einde Badweg het strand op. Blijkbaar kan dat ook. We slaan linksaf. Daar staat een bus. Welk nummer heeft de bus?"</p>
<input id="j" type="number" placeholder="Busnummer">
<button onclick="next()">Verder</button>
</div>

<!-- STAP 11: huisnummer dochters -->
<div class="step">
<p>"Verbaasd dat er een bus op het strand staat draaien we ons gauw om. Terug de Badweg op richting het dorp. De eerste mogelijkheid naar rechts. Aan deze weg schijnen de dochters van Atlas en Pleione te wonen. Op welk nummer?"</p>
<input id="k" type="number" placeholder="Huisnummer dochters">
<button onclick="next()">Verder</button>
</div>

<!-- STAP 12: letters slogan -->
<div class="step">
<p>"Weer terug naar de Badweg. Op weg naar het dorp komen we een volwassen man met een rood visnetje tegen. Met een blote bast op de fiets. Hij heeft waarschijnlijk vakantie. Zijn vrouw is ook lekker aan het fietsen en heeft een boodschappentas van Plus bij zich. Welke slogan staat er op haar tas? Tel de letters bij elkaar op."</p>
<input id="l" type="number" placeholder="Aantal letters">
<button onclick="calc4()">Bereken vierde cijfer</button>
</div>

<div class="step">
<div class="calc" id="calc4"></div>
<button id="endBtn" style="display:none;" onclick="endGame()">Einde</button>
</div>

</div>

<div id="vehicle">üöå</div>

<script>
let step=0;
const steps=document.querySelectorAll('.step');
const eye=document.getElementById('red-eye');
let code=[];

function next(){
  steps[step].classList.remove('active');
  step++;
  steps[step].classList.add('active');
  moveEye();
}

function moveEye(){
  eye.style.left=Math.random()*(window.innerWidth-40)+'px';
  eye.style.top=Math.random()*(window.innerHeight-40)+'px';
  eye.style.opacity=1;
  setTimeout(()=>eye.style.opacity=0,3000);
}

function calc1(){
  const a=+document.getElementById('a').value;
  const b=+document.getElementById('b').value;
  const c=+document.getElementById('c').value;
  const res=a+b-c;
  code.push(res);
  document.getElementById('calc1').innerHTML=
`Ik tel ${a} (sterren) en ${b} (ganzen) bij elkaar op en trek ${c} (vlaggen) eraf.<br>
Dan krijg je <strong>${res}</strong>. Onthoud dit getal goed, dit is het eerste cijfer van de code.`;
  next();
}

function calc2(){
  const d=+document.getElementById('d').value;
  const f=+document.getElementById('f').value;
  const e=+document.getElementById('e').value;
  const res=d+f-e;
  code.push(res);
  document.getElementById('calc2').innerHTML=
`Ik tel ${d} (mensen terras) en ${f} (huisnummer instrument) bij elkaar op en trek ${e} (huisnummer klos) eraf.<br>
Dan krijg je <strong>${res}</strong>. Onthoud dit getal goed, dit is het tweede cijfer van de code.`;
  next();
}

function calc3(){
  const g=+document.getElementById('g').value;
  const h=+document.getElementById('h').value;
  const i=+document.getElementById('i').value;
  const res=g+h-i;
  code.push(res);
  document.getElementById('calc3').innerHTML=
`Ik tel ${g} (vissen) en ${h} (decennia) bij elkaar op en trek ${i} (fietsen) eraf.<br>
Dan krijg je <strong>${res}</strong>. Onthoud dit getal goed, dit is het derde cijfer van de code.`;
  next();
}

function calc4(){
  const j=+document.getElementById('j').value;
  const k=+document.getElementById('k').value;
  const l=+document.getElementById('l').value;
  const res=j+k-l;
  code.push(res);
  document.getElementById('calc4').innerHTML=
`Ik tel ${j} (bus) en ${k} (huisnummer dochters) bij elkaar op en trek ${l} (letters slogan) eraf.<br>
Dan krijg je <strong>${res}</strong>. Onthoud dit getal goed, dit is het vierde cijfer van de code.`;

  document.getElementById('endBtn').style.display='inline-block';
  steps[step].classList.remove('active');
  step++;
  steps[step].classList.add('active');
  moveEye(); moveEye();
}

function endGame(){
  const vehicle = document.getElementById('vehicle');

  // Willekeurige keuze: bus of boot
  const vehicles = ["üöå","üöç","üõ≥Ô∏è","‚õ¥Ô∏è"];
  vehicle.textContent = vehicles[Math.floor(Math.random()*vehicles.length)];

  // Willekeurige kleur
  const colors = ["red","orange","yellow","green","blue","purple"];
  vehicle.style.color = colors[Math.floor(Math.random()*colors.length)];

  // Herstart animatie zodat het elke keer kan
  vehicle.style.animation = 'none';
  vehicle.offsetHeight; // force reflow
  vehicle.style.animation = 'vehicleRide 6s linear forwards';
}
</script>

</body>
</html>


